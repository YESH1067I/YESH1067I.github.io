<!DOCTYPE html>
<html>
<head>
    <title>JS Tasks</title>
</head>
<body>
<div id="lefttop" style="
    position: relative;
    width: 50px;
    height: 50px;
    background-color: green;
">
</div>
<h3>Palindrome Check</h3>
<input type="text" id="nameInput" placeholder="Enter your name">
<button onclick="checkPalindrome()">Check</button>
<p id="palindromeResult"></p>

<h3>Sum of Digits</h3>
<input type="number" id="digitInput" placeholder="Enter a number">
<button onclick="sumDigits()">Calculate</button>
<p id="sumDigitsResult"></p>

<h3>Sum of prime numbers</h3>
<input type="number" id="primeSumInput" placeholder="Enter a number">
<button onclick="sumPrime()">Calculate</button>
<p id="PrimeSumResult"></p>

<h3>Wolf vs Rabbit Time</h3>
<input type="number" id="distanceInput" placeholder="Enter distance (km)">
<button onclick="catchTime()">Calculate</button>
<p id="catchTimeResult"></p>

<h3>Array Divide</h3>
<input type="number" id="arraySize" placeholder="Array size">
<button onclick="enterArray()">Submit</button>
<p id="evens"></p>
<p id="odds"></p>

<h3>Apartment Info</h3>
<input type="number" id="houseNumber" placeholder="Enter house number">
<button onclick="apartmentInfo()">Check</button>
<p id="apartmentInfoResult"></p>

<h3>Petja win?</h3>
<input type="number" id="petjanumber" placeholder="Coin count">
<button onclick="winningFirstMove()">Check</button>
<p id="petjacoin"></p>

<div id="bottomright" style="background-color: red;
bottom: 10px;
right: 10px;
float: right;
width: 50px;
height: 50px;"></div>


<script>
    function checkPalindrome() {
        const ner = document.getElementById("nameInput").value;
        const ner2 = ner.split('').reverse().join('');
        const result = (ner2 === ner) ? "Palindrom nertei yum bishuu ho!" : "Chiniih bur assynchron yum bnoo";
        document.getElementById("palindromeResult").textContent = result;
    }

    function sumDigits() {
        let digit = parseInt(document.getElementById("digitInput").value);
        let sum = 0;
        while (digit > 0) {
            sum += digit % 10;
            digit = Math.floor(digit / 10);
        }
        document.getElementById("sumDigitsResult").textContent = "Sum: " + sum;
    }

    function catchTime() {
        const distance = parseFloat(document.getElementById("distanceInput").value);
        const wolf = 25;
        const rabbit = 18;
        const minutes = Math.floor((60 * distance) / (wolf - rabbit));
        document.getElementById("catchTimeResult").textContent =  minutes + " minut "+(((60 * distance) / (wolf - rabbit) - minutes)*60).toFixed(0)+" seconds ";
    }

    function enterArray() {
        const n = parseInt(document.getElementById("arraySize").value);
        let array = [];
        for (let i = 0; i < n; i++ ) {
            let arr = parseInt(window.prompt(`Enter your element #${i + 1}:`));
            array.push(arr);
        }

        let evens = [];
        let odds = [];

        array.forEach(num => {
            if (num % 2 === 0) {
                evens.push(num);
            } else {
                odds.push(num);
            }
        });
        document.getElementById("evens").textContent = "Evens : "+evens.join(", ");
        document.getElementById("odds").textContent = "Odds : "+odds.join(", ");
    }

    function apartmentInfo() {
        const toot = parseInt(document.getElementById("houseNumber").value);
        const ail = 36;
        const dawhar = 4;
        if (toot > 0 && toot < 109) {
            const orts = Math.floor((toot-1) / ail)+1;
            const dawharToo = Math.ceil((toot - ail *(orts-1))/dawhar);
            const haalganiiDugaar = ((toot - ail *(orts-1))-(dawharToo-1)*4);
            document.getElementById("apartmentInfoResult").innerHTML =
                "Orts: " + (orts) + "<br>" +
                "Dawhar: " + dawharToo + "<br>" +
                "Haalga: " + haalganiiDugaar;
        } else {
            document.getElementById("apartmentInfoResult").textContent = "It is not possible";
        }
    }

    function sumPrime(){
        const n = parseInt(document.getElementById("primeSumInput").value);
        var sumC = "";
        var sum = 0;
        for (let i = n; i > 0; i--){
            if(is_prime(i)==true){
                sum += i;
                if (sum <= n) {
                    sumC = sumC + i+" + ";
                }else{
                    sum -= i;
                } 
            }
        }
        
        document.getElementById("PrimeSumResult").textContent = sumC.substring(0, sumC.length - 2)
    }

    function is_prime(n){
        const a = Math.floor(n/2)
        for (let i = 2; i <= a; i++){
            if (n%i==0) return false;
        }
        return true;
    }

    function placeBox() {
        const now = new Date();
        const hour = now.getHours();
        const lefttop = document.getElementById("lefttop");
        const bottomright = document.getElementById("bottomright");

        lefttop.style.display = "none";
        bottomright.style.display = "none";


        if (hour >= 6 && hour < 12) {
            lefttop.style.display = "block";
        } else {
            bottomright.style.display = "block";
        }
    }

    placeBox();
    function winningFirstMove() {
        const n = document.getElementById("petjanumber").value
     
        document.getElementById("petjacoin").textContent = n-1;
    }
</script>

</body>
</html>
